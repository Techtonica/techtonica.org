{% extends "base.html" %}
{% from "form_macros.html" import form_wrapper, fieldset, input_field, textarea_field, radio_group, conduct_checkbox %}
{% block title %} Techtonica: Bridging the Tech Gap â€”
Post A Job {% endblock title %} {% block content %}
<!-- link to the Web SDK library -->
<script src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
<script type="text/javascript" src="{{ PAYMENT_FORM_URL }}"></script>
<script type="application/javascript">
  window.applicationId = "{{ APPLICATION_ID }}";
  window.locationId = "{{ LOCATION_ID }}";
  window.currency = "{{ ACCOUNT_CURRENCY }}";
  window.country = "{{ ACCOUNT_COUNTRY }}";
  window.idempotencyKey = "{{ idempotencyKey }}";
</script>

<div id="payment-page">
  <h1>Post A Job</h1>
  <p>
    Have a job opening but your company isn't ready to become a hiring partner?
    <br />
    Submit the job for $100 and we'll share with our graduates who have 0-5
    years of experience.
  </p>
  {% if not credentials %}
  <p><a href="mailto:info@techtonica.org">Contact us</a> to post your job!</p>
  {% else %}
  {# Adjusted form_wrapper call to match parameters: title, form_id, form_class, include_payment #}
  {% call form_wrapper('Job Listing Form', 'fast-checkout', 'payment-form form-wrapper', include_payment=true) %}
  {% call fieldset('Job Details') %}
  {# input_field now takes label, id, type, required #}
  {{ input_field('Job Title', 'jobtitle') }}
  {{ input_field('Company', 'company') }}
  {{ input_field('Type', 'type', required=false) }}
  {{ input_field('Education Requirement', 'educationreq', required=false) }}
  {{ input_field('Location', 'location') }}

  {{ radio_group('Can you make a referral/connection?', 'referral', [('yes', 'Yes'), ('no', 'No')]) }}

  {{ input_field('Salary Range', 'salaryrange', required=false) }}
  {{ textarea_field('Description', 'description', required=false) }}
  {{ input_field('Link to Apply', 'applicationlink', required=false) }}
  {% endcall %}
  {% endcall %}
  {% endif %}
</div>
<script type="text/javascript" src="/static/js/sq-card-pay.js"></script>
<script type="text/javascript" src="/static/js/payment-flow.js"></script>
{% endblock content %}
