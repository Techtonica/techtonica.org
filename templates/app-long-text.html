{% extends "base.html" %} {% block title %} Techtonica: Bridging the Tech Gap —
Techtonica Application {% endblock title %} {% block content %}
<section class="application-page">
  <h1>Techtonica Application</h1>
  <form action="#" method="POST" class="application-form" id="app-form-4">
    <fieldset>
      <legend>Applicant Long-Text Answers</legend>

      <label for="did-not-complete-other-program"
        >If you have signed up for another coding course or program and not
        completed it, why not? </label
      ><br />
      <textarea
        name="did-not-complete-other-program"
        id="did-not-complete-other-program"
        cols="100"
        rows="4"
        required
      >
      </textarea
      ><br />

      <div id="radio-wrapper" role="radiogroup">
        <label for="coding-experience">
          Have you attended a full-time coding bootcamp, completed a C.S. degree
          (bachelor's or above), or worked as a software engineer in the last
          six years? </label
        ><br />
        <input
          type="radio"
          name="coding-experience"
          id="coding-experience-yes"
          value="Yes"
          required
        />
        <label for="coding-experience-yes">Yes</label>
        <input
          type="radio"
          name="coding-experience"
          id="coding-experience-no"
          value="No"
          required
        />
        <label for="coding-experience-no">No</label><br />
      </div>
      <div>
        <label for="post-high-school-education">
          Please tell us about any post-high school educational experiences. </label
        ><br />
        <textarea
          name="post-high-school-education"
          id="post-high-school-education"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="graduated-college"
          >Did you graduate from college, and if so, which one and with what
          degree? </label
        ><br />
        <textarea
          name="graduated-college"
          id="graduated-college"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="programming-story">
          What’s your programming story? How did you become interested in
          learning how to code? What self-studying or formal education have you
          had related to programming? How have you been preparing for a career
          as a software engineer? Please carefully craft at least one thoughtful
          paragraph. </label
        ><br />
        <textarea
          name="programming-story"
          id="programming-story"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="previous-applicant">
          If you've applied for Techtonica before, please share what has changed
          and what additional experience you've gained since you applied.
          <span>(Optional)</span> </label
        ><br />
        <textarea
          name="previous-applicant"
          id="previous-applicant"
          cols="100"
          rows="4"
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="HTML-CSS-JS-experience">
          What experience with HTML, CSS, and/or JavaScript have you had? </label
        ><br />
        <textarea
          name="HTML-CSS-JS-experience"
          id="HTML-CSS-JS-experience"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="other-languages-experience"
          >If you've had experience with other programming languages, please
          describe it here. <span>(Optional)</span> </label
        ><br />
        <textarea
          name="other-languages-experience"
          id="other-languages-experience"
          cols="100"
          rows="4"
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="diversity-inclusion"
          >We value diversity, inclusion, equity, and belonging. What does that
          mean for you? What and how have you learned about this topic recently?
          Please carefully craft at least one thoughtful paragraph. </label
        ><br />
        <textarea
          name="diversity-inclusion"
          id="diversity-inclusion"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="recent-activities">
          What have you been up to over the last few years? Please carefully
          craft at least one thoughtful paragraph. </label
        ><br />
        <textarea
          name="recent-activities"
          id="recent-activities"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="tech-industry-interest">
          Why is it that you want to work in the tech industry? Please carefully
          craft at least one thoughtful paragraph. </label
        ><br />
        <textarea
          name="tech-industry-interest"
          id="tech-industry-interest"
          cols="100"
          rows="4"
          required
        >
        </textarea>
        <br />
      </div>
      <div>
        <label for="tech-barriers">
          What has prevented you from making it into tech before now? </label
        ><br />
        <textarea
          name="tech-barriers"
          id="tech-barriers"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="career-transition">
          Why are you ready for this career transition now? </label
        ><br />
        <textarea
          name="career-transition"
          id="career-transition"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="five-year-plan">
          What’s your five year professional plan? How will being in
          Techtonica's full-time program help you achieve these goals? Please
          carefully craft at least one thoughtful paragraph. </label
        ><br />
        <textarea
          name="five-year-plan"
          id="five-year-plan"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="software-engineer-qualities">
          What about you would make you a good software engineer? Please
          carefully craft at least one thoughtful paragraph. </label
        ><br />
        <textarea
          name="software-engineer-qualities"
          id="software-engineer-qualities"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="unique-experiences">
          What unique points of view, experiences, and background will you bring
          to Techtonica's sponsor companies? Please carefully craft at least one
          thoughtful paragraph. </label
        ><br />
        <textarea
          name="unique-experiences"
          id="unique-experiences"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="five-tech-companies"
          >List five tech companies you'd be interested in working for after
          Techtonica and why. </label
        ><br />
        <textarea
          name="five-tech-companies"
          id="five-tech-companies"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="self-taught">
          Tell us about something difficult you've learned on your own that is
          not related to computers or coding. Why did you want to learn that
          thing? What did you do to learn it? What level are you at now? Please
          carefully craft at least one thoughtful paragraph. </label
        ><br />
        <textarea
          name="self-taught"
          id="self-taught"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="pair-partner-situation">
          Would you do in the following situation? You have been assigned a
          project by your supervisor and have also been assigned a pair partner.
          The two of you are supposed to collaborate on the project and submit
          your work together. Your pair partner keeps working ahead on their own
          at lunch and in the evenings, doesn't take your suggestions, and makes
          you feel inferior. </label
        ><br />
        <textarea
          name="pair-partner-situation"
          id="pair-partner-situation"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="robot-sandwich">
          List all the steps one-by-one that you would use to tell a robot how
          to make a sandwich (if all the ingredients are ready and available).
        </label>
        <div class="learn-more-wrapper">
          <button class="learn-more-title" type="button" aria-expanded="false">
            Learn More
            <span class="toggle-icon">
              <span class="toggle-icon-plus">+</span>
              <span class="toggle-icon-minus">-</span>
            </span>
          </button>
          <p class="learn-more-content" tabindex="0">
            This is to help us assess your logical thinking; please be specific
            and thorough.
          </p>
        </div>
        <br />
        <textarea
          name="robot-sandwich"
          id="robot-sandwich"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="readiness">
          Is there any reason you might not be ready for Techtonica, and if so,
          what is it? Why shouldn't we accept you to Techtonica right now? </label
        ><br />
        <textarea name="readiness" id="readiness" cols="100" rows="4" required>
        </textarea
        ><br />
      </div>
      <div>
        <label for="commitment-barriers">
          Do you have any barriers to committing to Techtonica and actively
          participating in the program (child pickup, care for a loved one,
          funding, length of commute, domestic or drug abuse issues not taken
          care of, being unable to attend every day, being unable to use a
          computer for long periods of time, etc.) or is there any reason you
          wouldn't commit to Techtonica? If yes, what are the barriers? </label
        ><br />
        <textarea
          name="commitment-barriers"
          id="commitment-barriers"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="how-did-you-find-out">
          How did you find out about Techtonica?
        </label>
        <div class="learn-more-wrapper">
          <button class="learn-more-title" type="button" aria-expanded="false">
            Learn More
            <span class="toggle-icon">
              <span class="toggle-icon-plus">+</span>
              <span class="toggle-icon-minus">-</span>
            </span>
          </button>
          <p class="learn-more-content" tabindex="0">
            The more specific you can be, the better—was it a flyer, and if so,
            where? Did a friend tell you, and if so, how did they find out? Was
            it a Facebook group, and if so, which one? Etc.
          </p>
        </div>
        <br />
        <textarea
          name="how-did-you-find-out"
          id="how-did-you-find-out"
          cols="100"
          rows="4"
          required
        >
        </textarea
        ><br />
      </div>
      <div>
        <label for="applicant-linkedin-url">
          Full LinkedIn URL (make sure you have a recognizable picture of your
          face on your profile!) </label
        ><br />
        <input
          type="url"
          name="applicant-linkedin-url"
          id="applicant-linkedin-url"
          required
        />
        <br />
      </div>
      <div>
        <label for="applicant-other-social-medias">
          Other full URLs to you online (blog, Twitter, GitHub, Instagram, etc.)
          <span>(Optional)</span>
        </label>
        <div class="learn-more-wrapper">
          <button class="learn-more-title" type="button" aria-expanded="false">
            Learn More
            <span class="toggle-icon">
              <span class="toggle-icon-plus">+</span>
              <span class="toggle-icon-minus">-</span>
            </span>
          </button>
          <p class="learn-more-content" tabindex="0">
            For example, https://twitter.com/TechtonicaOrg
          </p>
        </div>
        <br />
        <input
          type="url"
          name="applicant-other-social-medias"
          id="applicant-other-social-medias"
        />
        <br />
      </div>
      <div class="form-button">
        <button
          type="button"
          class="previous-btn"
          onclick="navigateToPage('/app-questionnaire')"
        >
          Previous
        </button>
        <button
          type="button"
          class="continue-to-app-btn"
          onclick="validateAndNavigate('/app-reference')"
        >
          Next
        </button>
        <button
          type="button"
          class="save-btn"
          onclick="window.location.href='/'"
        >
          Save
        </button>
      </div>
    </fieldset>
  </form>
</section>

<script>
  // Attach live validation on page load
  window.onload = function () {
    attachLiveValidation();
  };

  // Function to attach event listeners for live validation
  function attachLiveValidation() {
    const form = document.getElementById("app-form-4");
    const fields = form.querySelectorAll("[required]");
    fields.forEach((field) => {
      field.addEventListener("input", () => validateField(field)); // Text inputs
      field.addEventListener("change", () => validateField(field)); // Dropdowns, radio buttons, file uploads
    });
  }

  // Function to validate individual fields
  function validateField(field) {
    const validationType = field.dataset.validation || field.type; // Field type based on custom input data-validation="" or the type listed

    if (validateFieldByType(field, validationType)) {
      clearValidation(field); // Clear red border and error message if valid
    } else {
      markInvalid(field); // Highlight with red border and show error message if invalid
    }
  }

  // Function to validate fields by type
  function validateFieldByType(field, validationType) {
    switch (validationType) {
      case "url":
        return isValidURL(field.value); // Validate URL format
      case "radio":
        return isRadioGroupValid(field.name); // Validate radio group selection
      default:
        return field.value.trim() !== ""; // Ensure field is not empty
    }
  }

  // Validation helpers
  function isValidURL(value) {
    const urlPattern = /^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i; // Regex to check URL formatting
    return urlPattern.test(value);
  }

  function isRadioGroupValid(name) {
    const radios = document.getElementsByName(name);
    return Array.from(radios).some((radio) => radio.checked); // Collects radio buttons in group and checks if at least one is selected
  }

  // Handle invalid fields
  function markInvalid(field) {
    let errorMessageText = "This field is required."; // Default error message

    if (field.type === "url") {
      errorMessageText = "A valid URL is required.";
    } else if (field.type === "radio") {
      errorMessageText = "Please select an option.";
    }

    if (field.type === "radio") {
      // Append the error message only once for the radio group container
      const radioGroup = field.closest('[role="radiogroup"]');
      if (!radioGroup.querySelector(".error-message")) {
        const errorMessage = document.createElement("span");
        errorMessage.className = "error-message";
        errorMessage.style.color = "red";
        errorMessage.innerText = errorMessageText;
        radioGroup.insertBefore(errorMessage, radioGroup.firstChild); // Append message to radio group container instead of to each radio button
      }
    } else {
      // For other field types
      let parent = field.parentElement;
      if (!parent) {
        console.error("Parent element not found");
        return;
      }
      let errorMessage = parent.querySelector(".error-message");
      if (!errorMessage) {
        // Create error message element
        errorMessage = document.createElement("span");
        errorMessage.className = "error-message";
        errorMessage.style.color = "red";
        errorMessage.innerText = errorMessageText;

        // Insert error message before the field
        parent.insertBefore(errorMessage, field);
      }
      field.style.border = "2px solid red";
    }
  }

  // Clear invalid styling and error message
  function clearValidation(field) {
    if (field.type === "radio") {
      const radioGroup = field.closest('[role="radiogroup"]');
      const errorMessage = radioGroup.querySelector(".error-message");
      if (errorMessage) {
        errorMessage.remove(); // Remove radio group error message
      }
    } else {
      // Handle other input types
      const parent = field.parentElement;
      const errorMessage = parent.querySelector(".error-message"); // Check for error message above the field
      if (errorMessage) {
        errorMessage.remove(); // Remove error message
      }
      field.style.border = ""; // Remove red border for valid inputs
    }
  }

  // Final validation before navigation
  function validateAndNavigate(nextPage) {
    const form = document.getElementById("app-form-4");
    const fields = form.querySelectorAll("[required]");
    let isValid = true;

    fields.forEach((field) => {
      if (!validateFieldByType(field, field.dataset.validation || field.type)) {
        markInvalid(field); // Highlight invalid fields
        isValid = false; // Set flag to false if any field is invalid
      }
    });

    if (isValid) {
      window.location.href = nextPage;
    } else {
      alert("Please complete all required fields.");
    }
  }

  // Navigation without validation for previous button
  function navigateToPage(previousPage) {
    window.location.href = previousPage;
  }
</script>

<style>
  form {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 2rem auto;
    width: 75%;
    max-width: 150rem;
    padding: 3rem;
    background-color: white;
    border: 1px solid rgb(0, 0, 0);
  }

  .application-page {
    justify-content: center;
    background-color: #0093b5;
    padding: 2rem;
  }

  .application-form .learn-more-wrapper {
    display: inline;
  }

  .application-form .learn-more-content {
    margin: 0.5em 0 0 0;
    font-size: large;
  }

  .application-form .learn-more-wrapper button {
    display: inline;
    background-color: white;
    color: #0093b5;
    font-size: large;
    cursor: pointer;
    padding: 0;
    margin: 0 0 0 0.5em;
  }

  .application-form .learn-more-wrapper button:hover {
    background-color: white;
    color: #16c1f3;
  }

  .application-form .learn-more-wrapper button:focus-visible {
    padding: 3px;
  }

  .application-page > h1,
  .application-page > p {
    max-width: 65%;
    margin: auto;
    text-align: center;
  }

  legend {
    color: rgba(0, 115, 149, 0.8);
    font-size: 20px;
  }

  .application-form > fieldset {
    border: 1px solid rgba(0, 0, 0, 0.559);
    border-radius: 0.5rem;
    padding: 2rem;
    width: 100%;
  }

  .application-form > fieldset > label {
    font-size: large;
  }

  fieldset > input[type="text"],
  fieldset > input[type="url"],
  fieldset > input[type="radio"],
  fieldset > textarea {
    padding: 1em;
    margin-bottom: 2em;
    border: 1px solid rgba(0, 0, 0, 0.559);
    border-radius: 6px;
    width: 100%;
    box-sizing: border-box;
  }

  .application-form > fieldset > #radio-wrapper > input[type="radio"] {
    cursor: pointer;
  }

  #radio-wrapper label {
    color: black;
    margin-bottom: 2em;
  }

  #radio-wrapper input {
    background-color: #16c1f3;
  }

  button.continue-to-app-btn,
  button.previous-btn,
  button.save-btn {
    background-color: #fc7625;
    color: white;
    font-size: large;
    padding: 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
  }

  button.continue-to-app-btn:hover,
  button.previous-btn:hover,
  button.save-btn:hover {
    background-color: #16c1f3;
    color: white;
    transition: 0.3s;
  }

  .form-button {
    display: flex;
    margin: auto;
    align-items: center;
    justify-content: space-between;
  }

  @media only screen and (min-width: 320px) and (max-width: 599px) {
    .column {
      padding: 0;
    }
    html,
    body {
      overflow-x: hidden;
      width: 100%;
    }
    .application-page > form {
      width: inherit;
      margin-bottom: 2rem;
      padding: 1.5rem;
    }
    .application-page {
      padding: 2rem 0;
    }
    .application-form .learn-more-wrapper .learn-more-title,
    .application-form .learn-more-wrapper .toggle-icon {
      color: #0093b5;
      font-size: smaller;
    }
    .application-form .learn-more-wrapper .learn-more-content {
      font-size: smaller;
    }
    .application-page > h1 {
      font-size: 1.5em;
      max-width: fit-content;
    }
    .application-form > fieldset > legend {
      font-size: 18px;
    }
    .application-form > fieldset {
      min-width: 95%;
      word-wrap: break-word;
      padding: 1.5rem;
      margin: 0;
    }
    .application-form > fieldset > label,
    #radio-wrapper > label {
      font-size: smaller;
    }
    .form-button {
      gap: 0.5em;
      margin: auto;
    }
    button.continue-to-app-btn,
    button.previous-btn,
    button.save-btn {
      font-size: smaller;
    }
  }

  @media only screen and (min-width: 575px) and (max-width: 910px) {
    .column {
      padding: 0;
    }
    html,
    body {
      overflow-x: hidden;
      width: 100%;
    }
    .application-page {
      padding: 2rem 0;
    }
    .application-page > form {
      width: initial;
      margin-bottom: 2rem;
    }
    .application-page > h1 {
      font-size: 2em;
      max-width: fit-content;
    }
    legend {
      font-size: 24px;
    }
  }
</style>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const learnMoreWrappers = document.querySelectorAll(".learn-more-wrapper");

    learnMoreWrappers.forEach((wrapper) => {
      const title = wrapper.querySelector(".learn-more-title");
      const content = wrapper.querySelector(".learn-more-content");
      const toggleIcon = wrapper.querySelector(".toggle-icon");

      toggleIcon.style.cursor = "pointer";

      toggleIcon.querySelector(".toggle-icon-plus").style.display = "inline";
      toggleIcon.querySelector(".toggle-icon-minus").style.display = "none";
      content.style.display = "none";

      let isExpanded = false;

      title.addEventListener("click", () => {
        if (!isExpanded) {
          content.style.display = "block";
          toggleIcon.querySelector(".toggle-icon-plus").style.display = "none";
          toggleIcon.querySelector(".toggle-icon-minus").style.display =
            "inline";
          title.setAttribute("aria-expanded", true);
        } else {
          content.style.display = "none";
          toggleIcon.querySelector(".toggle-icon-plus").style.display =
            "inline";
          toggleIcon.querySelector(".toggle-icon-minus").style.display = "none";
          title.setAttribute("aria-expanded", false);
        }

        isExpanded = !isExpanded;
      });
    });
  });
</script>
{% endblock content %}
